"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[100],{22320:(e,t,n)=>{n.d(t,{EI:()=>i,GT:()=>s,HC:()=>l,I9:()=>u,Kw:()=>m,PE:()=>y,VI:()=>o,c1:()=>h,f8:()=>c,jW:()=>d,o0:()=>p,uw:()=>g,ws:()=>f,yz:()=>v});var r=n(60125);let a="/api/v1/records";async function o(e){return(0,r.Vg)(a,{params:{status:null==e?void 0:e.status,record_type:null==e?void 0:e.record_type,skip:null==e?void 0:e.skip,limit:null==e?void 0:e.limit}})}async function s(){return(0,r.Vg)("".concat(a,"/stats"))}async function i(e){return(0,r.Vg)("".concat(a,"/").concat(e))}async function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,r.$P)("".concat(a,"/").concat(e,"/approve"),t)}async function d(e,t){return(0,r.$P)("".concat(a,"/").concat(e,"/reject"),t)}async function u(e,t){return(0,r.mu)("".concat(a,"/").concat(e),t)}async function l(e){return(0,r.$P)("".concat(a,"/export"),e)}async function f(e,t){return(0,r.$P)("".concat(a,"/approve-batch"),void 0,{params:{notes:t},headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}async function p(e,t){return(0,r.$P)("".concat(a,"/reject-batch"),void 0,{params:{reason:t},headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}function y(e,t){let n=window.URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(n)}function m(e){let t=new Date().toISOString().split("T")[0];return"techflow_export_".concat(t,".").concat({csv:"csv",xlsx:"xlsx",json:"json"}[e]||e)}async function v(){return(0,r.Vg)("".concat(a,"/sheets/status"))}async function g(e){return(0,r.$P)("".concat(a,"/sheets/create"),void 0,{params:{title:e}})}async function h(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,r.$P)("".concat(a,"/sheets/sync"),void 0,{params:{spreadsheet_id:e,include_rejected:t}})}},25016:(e,t,n)=>{n.d(t,{Yq:()=>s,cn:()=>o,e7:()=>c,vv:()=>i});var r=n(2821),a=n(75889);function o(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.QP)((0,r.$)(t))}function s(e){return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(e))}function i(e){let t="string"==typeof e?parseFloat(e):e;return new Intl.NumberFormat("el-GR",{style:"currency",currency:"EUR"}).format(t)}function c(e){let t=e.split("/");return t[t.length-1]||e}},44090:(e,t,n)=>{n.d(t,{Ug:()=>s,jQ:()=>o,pE:()=>i});var r=n(22454),a=n(22320);let o=e=>["record",e];function s(e){return(0,r.I)({queryKey:["records",e],queryFn:()=>(0,a.VI)(e),staleTime:3e4})}function i(e){return(0,r.I)({queryKey:o(e||""),queryFn:()=>(0,a.EI)(e),enabled:!!e,staleTime:3e4})}},46623:(e,t,n)=>{n.d(t,{CS:()=>o,H9:()=>c,MJ:()=>s,Zo:()=>d,sQ:()=>i});var r=n(60125);let a="/api/v1/extract";async function o(){return(0,r.Vg)("".concat(a,"/files"))}async function s(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,r.$P)("".concat(a,"/form/").concat(encodeURIComponent(e)),void 0,{params:{save_record:t}})}async function i(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,r.$P)("".concat(a,"/email/").concat(encodeURIComponent(e)),void 0,{params:{save_record:t}})}async function c(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,r.$P)("".concat(a,"/invoice/").concat(encodeURIComponent(e)),void 0,{params:{save_record:t}})}async function d(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,r.$P)("".concat(a,"/all"),void 0,{params:{save_records:e}})}},48548:(e,t,n)=>{n.d(t,{Hg:()=>m,KS:()=>h,Ld:()=>p,TG:()=>u,UB:()=>l,Ud:()=>g,XU:()=>v,iL:()=>f,zH:()=>d,zQ:()=>y});var r=n(99776),a=n(80549),o=n(22320),s=n(46623),i=n(44090),c=n(50003);function d(){let e=(0,r.jE)();return(0,a.n)({mutationFn:e=>{let{id:t,request:n}=e;return(0,o.f8)(t,n)},onSuccess:t=>{e.setQueryData((0,i.jQ)(t.id),t),e.invalidateQueries({queryKey:["records"]}),e.invalidateQueries({queryKey:c.d})}})}function u(){let e=(0,r.jE)();return(0,a.n)({mutationFn:e=>{let{id:t,request:n}=e;return(0,o.jW)(t,n)},onSuccess:t=>{e.setQueryData((0,i.jQ)(t.id),t),e.invalidateQueries({queryKey:["records"]}),e.invalidateQueries({queryKey:c.d})}})}function l(){let e=(0,r.jE)();return(0,a.n)({mutationFn:e=>{let{id:t,request:n}=e;return(0,o.I9)(t,n)},onSuccess:t=>{e.setQueryData((0,i.jQ)(t.id),t),e.invalidateQueries({queryKey:["records"]}),e.invalidateQueries({queryKey:c.d})}})}function f(){let e=(0,r.jE)();return(0,a.n)({mutationFn:e=>(0,o.HC)(e),onSuccess:(t,n)=>{let r=(0,o.Kw)(n.format);(0,o.PE)(t,r),e.invalidateQueries({queryKey:["records"]}),e.invalidateQueries({queryKey:c.d})}})}function p(){let e=(0,r.jE)();return(0,a.n)({mutationFn:e=>{let{ids:t,notes:n}=e;return(0,o.ws)(t,n)},onSuccess:()=>{e.invalidateQueries({queryKey:["records"]}),e.invalidateQueries({queryKey:c.d})}})}function y(){let e=(0,r.jE)();return(0,a.n)({mutationFn:e=>{let{ids:t,reason:n}=e;return(0,o.o0)(t,n)},onSuccess:()=>{e.invalidateQueries({queryKey:["records"]}),e.invalidateQueries({queryKey:c.d})}})}function m(){let e=(0,r.jE)();return(0,a.n)({mutationFn:e=>{let{filename:t,save:n}=e;return(0,s.MJ)(t,n)},onSuccess:(t,n)=>{n.save&&(e.invalidateQueries({queryKey:["records"]}),e.invalidateQueries({queryKey:c.d}))}})}function v(){let e=(0,r.jE)();return(0,a.n)({mutationFn:e=>{let{filename:t,save:n}=e;return(0,s.sQ)(t,n)},onSuccess:(t,n)=>{n.save&&(e.invalidateQueries({queryKey:["records"]}),e.invalidateQueries({queryKey:c.d}))}})}function g(){let e=(0,r.jE)();return(0,a.n)({mutationFn:e=>{let{filename:t,save:n}=e;return(0,s.H9)(t,n)},onSuccess:(t,n)=>{n.save&&(e.invalidateQueries({queryKey:["records"]}),e.invalidateQueries({queryKey:c.d}))}})}function h(){let e=(0,r.jE)();return(0,a.n)({mutationFn:e=>(0,s.Zo)(e),onSuccess:(t,n)=>{n&&(e.invalidateQueries({queryKey:["records"]}),e.invalidateQueries({queryKey:c.d}))}})}},50003:(e,t,n)=>{n.d(t,{J:()=>s,d:()=>o});var r=n(22454),a=n(22320);let o=["stats"];function s(){return(0,r.I)({queryKey:o,queryFn:a.GT,staleTime:3e4,refetchInterval:6e4})}},54679:(e,t,n)=>{n.d(t,{Cf:()=>l,Es:()=>p,L3:()=>y,c7:()=>f,lG:()=>c,rr:()=>m});var r=n(95155),a=n(12115),o=n(93409),s=n(65229),i=n(25016);let c=o.bL;o.l9;let d=o.ZL;o.bm;let u=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(o.hJ,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...a})});u.displayName=o.hJ.displayName;let l=a.forwardRef((e,t)=>{let{className:n,children:a,...c}=e;return(0,r.jsxs)(d,{children:[(0,r.jsx)(u,{}),(0,r.jsxs)(o.UC,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...c,children:[a,(0,r.jsxs)(o.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(s.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});l.displayName=o.UC.displayName;let f=e=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...n})};f.displayName="DialogHeader";let p=e=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...n})};p.displayName="DialogFooter";let y=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(o.hE,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",n),...a})});y.displayName=o.hE.displayName;let m=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(o.VY,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",n),...a})});m.displayName=o.VY.displayName},60125:(e,t,n)=>{n.d(t,{$P:()=>i,Vg:()=>s,mu:()=>c});class r extends Error{constructor(e,t,n){super("API Error: ".concat(e," ").concat(t)),this.status=e,this.statusText=t,this.data=n,this.name="ApiError"}}async function a(e){if(!e.ok){let t;try{t=await e.json()}catch(e){t=null}throw new r(e.status,e.statusText,t)}let t=e.headers.get("content-type");return(null==t?void 0:t.includes("application/json"))?e.json():(null==t?void 0:t.includes("application/octet-stream"))||(null==t?void 0:t.includes("text/csv"))||(null==t?void 0:t.includes("application/vnd.openxmlformats"))?e.blob():e.text()}function o(e,t){let n=new URL("".concat("http://localhost:7000").concat(e));return t&&Object.entries(t).forEach(e=>{let[t,r]=e;void 0!==r&&n.searchParams.append(t,String(r))}),n.toString()}async function s(e,t){let n=o(e,null==t?void 0:t.params);return a(await fetch(n,{method:"GET",headers:{"Content-Type":"application/json",...null==t?void 0:t.headers},...t}))}async function i(e,t,n){let r=o(e,null==n?void 0:n.params);return a(await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",...null==n?void 0:n.headers},body:t?JSON.stringify(t):void 0,...n}))}async function c(e,t,n){let r=o(e,null==n?void 0:n.params);return a(await fetch(r,{method:"PUT",headers:{"Content-Type":"application/json",...null==n?void 0:n.headers},body:JSON.stringify(t),...n}))}},67812:(e,t,n)=>{n.d(t,{E:()=>i});var r=n(95155);n(12115);var a=n(83101),o=n(25016);let s=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",pending:"border-transparent bg-yellow-100 text-yellow-800",approved:"border-transparent bg-green-100 text-green-800",rejected:"border-transparent bg-red-100 text-red-800",edited:"border-transparent bg-blue-100 text-blue-800",exported:"border-transparent bg-purple-100 text-purple-800"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:n,...a}=e;return(0,r.jsx)("div",{className:(0,o.cn)(s({variant:n}),t),...a})}},68122:(e,t,n)=>{n.d(t,{E:()=>o});var r=n(95155),a=n(25016);function o(e){let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,a.cn)("animate-pulse rounded-md bg-muted",t),...n})}},73959:(e,t,n)=>{n.d(t,{dj:()=>l});var r=n(12115);let a=0,o=new Map,s=e=>{if(o.has(e))return;let t=setTimeout(()=>{o.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);o.set(e,t)},i=[],c={toasts:[]};function d(e){c=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:n}=t;return n?s(n):e.toasts.forEach(e=>{s(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===n||void 0===n?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(c,e),i.forEach(e=>{e(c)})}function u(e){let{...t}=e,n=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>d({type:"DISMISS_TOAST",toastId:n});return d({type:"ADD_TOAST",toast:{...t,id:n,open:!0,onOpenChange:e=>{e||r()}}}),{id:n,dismiss:r,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:n}})}}function l(){let[e,t]=r.useState(c);return r.useEffect(()=>(i.push(t),()=>{let e=i.indexOf(t);e>-1&&i.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},83209:(e,t,n)=>{n.d(t,{BT:()=>d,Wu:()=>u,ZB:()=>c,Zp:()=>s,aR:()=>i});var r=n(95155),a=n(12115),o=n(25016);let s=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",n),...a})});s.displayName="Card";let i=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",n),...a})});i.displayName="CardHeader";let c=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("h3",{ref:t,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",n),...a})});c.displayName="CardTitle";let d=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("p",{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",n),...a})});d.displayName="CardDescription";let u=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,o.cn)("p-6 pt-0",n),...a})});u.displayName="CardContent",a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,o.cn)("flex items-center p-6 pt-0",n),...a})}).displayName="CardFooter"},97003:(e,t,n)=>{n.d(t,{$:()=>d,r:()=>c});var r=n(95155),a=n(12115),o=n(32467),s=n(83101),i=n(25016);let c=(0,s.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",success:"bg-green-600 text-white hover:bg-green-700",warning:"bg-yellow-500 text-white hover:bg-yellow-600"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:n,variant:a,size:s,asChild:d=!1,...u}=e,l=d?o.DX:"button";return(0,r.jsx)(l,{className:(0,i.cn)(c({variant:a,size:s,className:n})),ref:t,...u})});d.displayName="Button"}}]);