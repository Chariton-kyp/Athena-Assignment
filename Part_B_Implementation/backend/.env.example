# =============================================================================
# TechFlow Data Automation - Backend Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values
# =============================================================================

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
APP_ENV=development                    # development | production | testing
DEBUG=false                            # Enable debug mode
LOG_LEVEL=INFO                         # DEBUG | INFO | WARNING | ERROR | CRITICAL

# -----------------------------------------------------------------------------
# Database Configuration (PostgreSQL + pgvector)
# -----------------------------------------------------------------------------
DATABASE_URL=postgresql+asyncpg://techflow:techflow_dev_password@db:5432/techflow_automation

# Connection pool settings
DB_POOL_SIZE=5                         # Number of connections in pool (1-20)
DB_MAX_OVERFLOW=10                     # Extra connections allowed (0-50)

# -----------------------------------------------------------------------------
# API Configuration
# -----------------------------------------------------------------------------
API_V1_PREFIX=/api/v1
# Include both ports: 7002 (Docker) and 3000 (local dev)
CORS_ORIGINS=["http://localhost:3000","http://localhost:7002"]

# -----------------------------------------------------------------------------
# File Paths
# -----------------------------------------------------------------------------
DATA_PATH=/app/data                    # Path to input data files
OUTPUT_PATH=/app/output                # Path for export outputs

# -----------------------------------------------------------------------------
# Extraction Settings
# -----------------------------------------------------------------------------
EXTRACTION_CONFIDENCE_THRESHOLD=0.8    # Min confidence for auto-suggestions (0.0-1.0)

# -----------------------------------------------------------------------------
# AI/ML Configuration
# -----------------------------------------------------------------------------
ENABLE_AI_EXTRACTION=true              # Enable AI-enhanced features

# Embedding Model Configuration
# Primary: google/embeddinggemma-300m (requires HF token, best quality)
# Fallback: paraphrase-multilingual-mpnet-base-v2 (free, good quality)
EMBEDDING_MODEL=google/embeddinggemma-300m
EMBEDDING_DIMENSIONS=768

# HuggingFace Configuration (required for gated models like embeddinggemma)
# Get your token at: https://huggingface.co/settings/tokens
# You must also accept model terms at: https://huggingface.co/google/embeddinggemma-300m
HUGGINGFACE_TOKEN=                     # Your HuggingFace access token (hf_...)

# Fallback model if primary fails (no token required)
FALLBACK_EMBEDDING_MODEL=paraphrase-multilingual-mpnet-base-v2

# -----------------------------------------------------------------------------
# Export Settings
# -----------------------------------------------------------------------------
DEFAULT_EXPORT_FORMAT=csv              # csv | xlsx | json

# -----------------------------------------------------------------------------
# Google Sheets Integration (Optional)
# -----------------------------------------------------------------------------
# Path to service account credentials JSON file
GOOGLE_CREDENTIALS_PATH=/app/credentials/google-sheets-credentials.json

# Spreadsheet ID (REQUIRED - create a spreadsheet and share it with the service account)
GOOGLE_SPREADSHEET_ID=your-spreadsheet-id-here

# Google Drive folder ID (optional, used for organization)
GOOGLE_DRIVE_FOLDER_ID=

# Auto-sync approved records to Google Sheets
GOOGLE_SHEETS_AUTO_SYNC=true

# Organize records in multiple sheets by type (Forms, Emails, Invoices)
GOOGLE_SHEETS_MULTI_SHEET=true
